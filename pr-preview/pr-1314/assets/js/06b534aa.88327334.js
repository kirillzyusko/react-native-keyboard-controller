"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[25165],{28453:(e,t,i)=>{i.d(t,{R:()=>a,x:()=>r});var n=i(96540);const o={},s=n.createContext(o);function a(e){const t=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),n.createElement(s.Provider,{value:t},e.children)}},48764:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>c});var n=i(74848),o=i(28453);const s={sidebar_position:5,description:"A guide that explores the challenges of building chat app layouts and shows how to solve them using the KeyboardChatScrollView component",keywords:["react-native-keyboard-controller","react-native","keyboard","chat","KeyboardChatScrollView"]},a="Building a chat app",r={id:"guides/building-chat-app",title:"Building a chat app",description:"A guide that explores the challenges of building chat app layouts and shows how to solve them using the KeyboardChatScrollView component",source:"@site/docs/guides/building-chat-app.md",sourceDirName:"guides",slug:"/guides/building-chat-app",permalink:"/react-native-keyboard-controller/pr-preview/pr-1314/docs/next/guides/building-chat-app",draft:!1,unlisted:!1,editUrl:"https://github.com/kirillzyusko/react-native-keyboard-controller/tree/main/docs/docs/guides/building-chat-app.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5,description:"A guide that explores the challenges of building chat app layouts and shows how to solve them using the KeyboardChatScrollView component",keywords:["react-native-keyboard-controller","react-native","keyboard","chat","KeyboardChatScrollView"]},sidebar:"tutorialSidebar",previous:{title:"Components Overview",permalink:"/react-native-keyboard-controller/pr-preview/pr-1314/docs/next/guides/components-overview"},next:{title:"Compatibility",permalink:"/react-native-keyboard-controller/pr-preview/pr-1314/docs/next/guides/compatibility"}},l={},c=[{value:"Why general-purpose components fall short",id:"why-general-purpose-components-fall-short",level:2},{value:"What chat apps actually need",id:"what-chat-apps-actually-need",level:2},{value:"What is <code>KeyboardChatScrollView</code>?",id:"what-is-keyboardchatscrollview",level:2},{value:"Example",id:"example",level:2},{value:"API reference",id:"api-reference",level:2}];function d(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"building-a-chat-app",children:"Building a chat app"}),"\n",(0,n.jsx)(t.p,{children:"Keyboard handling in chat applications has always been one of the trickiest problems in mobile development \u2014 even on native platforms. Chat apps push keyboard interactions to their limits: interactive dismissal, content repositioning, smooth transitions between the keyboard and custom input views, and all of it at 120 FPS. Getting this right requires deep integration between the keyboard, scroll views, and layout systems \u2014 far more than a general-purpose component can offer."}),"\n",(0,n.jsx)(t.h2,{id:"why-general-purpose-components-fall-short",children:"Why general-purpose components fall short"}),"\n",(0,n.jsxs)(t.p,{children:["You might be tempted to reach for ",(0,n.jsx)(t.code,{children:"KeyboardAvoidingView"})," or ",(0,n.jsx)(t.code,{children:"KeyboardAwareScrollView"})," to handle keyboard interactions in a chat app. While these components work well for forms, settings screens, and other straightforward layouts, they weren't designed for the unique demands of a chat interface."]}),"\n",(0,n.jsx)(t.p,{children:"Here's what you'll run into:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Frame drops with complex layouts"})," \u2014 ",(0,n.jsx)(t.code,{children:"KeyboardAvoidingView"})," with ",(0,n.jsx)(t.code,{children:'behavior="padding"'})," or ",(0,n.jsx)(t.code,{children:'behavior="height"'})," can cause ",(0,n.jsx)(t.a,{href:"https://github.com/software-mansion/react-native-reanimated/issues/6854",children:"frame drops"}),", particularly when the layout is complex."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"First-message rendering issues"})," \u2014 using ",(0,n.jsx)(t.code,{children:'behavior="translate-with-padding"'})," makes it ",(0,n.jsx)(t.a,{href:"https://github.com/kirillzyusko/react-native-keyboard-controller/issues/951",children:"impossible"})," to render the first message at the top of the screen."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Double scroll on interactive dismissal"})," \u2014 combining ",(0,n.jsx)(t.code,{children:"KeyboardAvoidingView"})," with interactive keyboard dismissal on iOS leads to a ",(0,n.jsx)(t.a,{href:"https://github.com/kirillzyusko/react-native-keyboard-controller/issues/594#issuecomment-2406860730",children:"double-scroll problem"}),"."]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"These aren't edge cases \u2014 they're fundamental mismatches between what generic components were designed to do and what chat apps actually need. You can work around them, but you'll end up writing a lot of platform-specific code to get a polished result."}),"\n",(0,n.jsx)(t.h2,{id:"what-chat-apps-actually-need",children:"What chat apps actually need"}),"\n",(0,n.jsx)(t.p,{children:"Despite the complexity, most chat apps share the same set of keyboard-related requirements:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Content repositioning"})," \u2014 push messages up when the keyboard appears (with the option to disable this in certain cases)."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Interactive dismissal"})," \u2014 let users swipe the keyboard away with a drag gesture."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Content freezing"})," \u2014 hold the chat in place when switching from the keyboard to a custom input view like an emoji picker or bottom sheet."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Virtualized list support"})," \u2014 work seamlessly with ",(0,n.jsx)(t.code,{children:"FlatList"}),", ",(0,n.jsx)(t.code,{children:"FlashList"}),", ",(0,n.jsx)(t.code,{children:"LegendList"}),", and other virtualized list implementations."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Smooth animations"})," \u2014 maintain 60/120 FPS during keyboard transitions, even on low-end devices."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Keyboard padding"})," \u2014 extend the scrollable area to account for keyboard height."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Custom offsets"})," \u2014 support layouts where the chat isn't flush against the bottom of the screen."]}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["Implementing all of this from scratch is a significant undertaking. That's why we built ",(0,n.jsx)(t.code,{children:"KeyboardChatScrollView"})," \u2014 a dedicated component that handles all of these behaviors out of the box, so you can focus on building your chat experience rather than fighting the keyboard."]}),"\n",(0,n.jsxs)(t.h2,{id:"what-is-keyboardchatscrollview",children:["What is ",(0,n.jsx)(t.code,{children:"KeyboardChatScrollView"}),"?"]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"KeyboardChatScrollView"})," is a purpose-built component for chat app layouts. It provides all the requirements listed above."]}),"\n",(0,n.jsx)(t.h2,{id:"example",children:"Example"}),"\n",(0,n.jsx)(t.h2,{id:"api-reference",children:"API reference"}),"\n",(0,n.jsxs)(t.p,{children:["For the full list of props and usage examples, see the ",(0,n.jsxs)(t.a,{href:"../api/components/keyboard-chat-scroll-view",children:[(0,n.jsx)(t.code,{children:"KeyboardChatScrollView"})," API reference"]}),"."]})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}}}]);