<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Mastering keyboard dismissal 🥷🏼 | Keyboard Controller</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://kirillzyusko.github.io/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Mastering keyboard dismissal 🥷🏼 | Keyboard Controller"><meta data-rh="true" name="description" content="Today I&#x27;m glad to announce a new 1.15.0 version of react-native-keyboard-controller 🎉"><meta data-rh="true" property="og:description" content="Today I&#x27;m glad to announce a new 1.15.0 version of react-native-keyboard-controller 🎉"><meta data-rh="true" name="keywords" content="react-native-keyboard-controller,keyboard,dismiss,state,isVisible"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2024-12-31T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/kirillzyusko"><meta data-rh="true" property="article:tag" content="react-native,keyboard,dismiss,state,isVisible"><link data-rh="true" rel="icon" href="/react-native-keyboard-controller/pr-preview/pr-724/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://kirillzyusko.github.io/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal"><link data-rh="true" rel="alternate" href="https://kirillzyusko.github.io/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal" hreflang="en"><link data-rh="true" rel="alternate" href="https://kirillzyusko.github.io/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://CX4YXK1FST-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://kirillzyusko.github.io/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal","mainEntityOfPage":"https://kirillzyusko.github.io/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal","url":"https://kirillzyusko.github.io/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal","headline":"Mastering keyboard dismissal 🥷🏼","name":"Mastering keyboard dismissal 🥷🏼","description":"Today I'm glad to announce a new 1.15.0 version of react-native-keyboard-controller 🎉","datePublished":"2024-12-31T00:00:00.000Z","author":{"@type":"Person","name":"Kirill Zyusko","description":"Library author","url":"https://github.com/kirillzyusko","image":"https://github.com/kirillzyusko.png"},"keywords":["react-native-keyboard-controller","keyboard","dismiss","state","isVisible"],"isPartOf":{"@type":"Blog","@id":"https://kirillzyusko.github.io/react-native-keyboard-controller/pr-preview/pr-724/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/rss.xml" title="Keyboard Controller RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/atom.xml" title="Keyboard Controller Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-4JH9YK1X2Q"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-4JH9YK1X2Q",{anonymize_ip:!0})</script><link rel="stylesheet" href="/react-native-keyboard-controller/pr-preview/pr-724/assets/css/styles.d434738c.css">
<script src="/react-native-keyboard-controller/pr-preview/pr-724/assets/js/runtime~main.2c1d9390.js" defer="defer"></script>
<script src="/react-native-keyboard-controller/pr-preview/pr-724/assets/js/main.713a0af4.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/react-native-keyboard-controller/pr-preview/pr-724/"><div class="navbar__logo"><img src="/react-native-keyboard-controller/pr-preview/pr-724/img/logo.svg" alt="Keyboard Controller Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/react-native-keyboard-controller/pr-preview/pr-724/img/logo.svg" alt="Keyboard Controller Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Keyboard Controller</b></a><a class="navbar__item navbar__link" href="/react-native-keyboard-controller/pr-preview/pr-724/docs/installation">Guides</a><a class="navbar__item navbar__link" href="/react-native-keyboard-controller/pr-preview/pr-724/docs/category/api-reference">API</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/react-native-keyboard-controller/pr-preview/pr-724/blog">Blog</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/react-native-keyboard-controller/pr-preview/pr-724/docs/installation">1.14.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/react-native-keyboard-controller/pr-preview/pr-724/docs/next/installation">Next</a></li><li><a class="dropdown__link" href="/react-native-keyboard-controller/pr-preview/pr-724/docs/installation">1.14.0</a></li><li><a class="dropdown__link" href="/react-native-keyboard-controller/pr-preview/pr-724/docs/1.13.0/installation">1.13.0</a></li><li><a class="dropdown__link" href="/react-native-keyboard-controller/pr-preview/pr-724/docs/1.12.0/installation">1.12.0</a></li><li><a class="dropdown__link" href="/react-native-keyboard-controller/pr-preview/pr-724/docs/1.11.0/installation">1.11.0</a></li><li><a class="dropdown__link" href="/react-native-keyboard-controller/pr-preview/pr-724/docs/1.10.0/installation">1.10.0</a></li><li><a class="dropdown__link" href="/react-native-keyboard-controller/pr-preview/pr-724/docs/1.9.0/installation">1.9.0</a></li><li><a class="dropdown__link" href="/react-native-keyboard-controller/pr-preview/pr-724/docs/1.8.0/installation">1.8.0</a></li><li><a class="dropdown__link" href="/react-native-keyboard-controller/pr-preview/pr-724/docs/1.7.0/installation">1.7.0</a></li><li><a class="dropdown__link" href="/react-native-keyboard-controller/pr-preview/pr-724/docs/1.6.0/installation">1.6.0</a></li><li><a class="dropdown__link" href="/react-native-keyboard-controller/pr-preview/pr-724/docs/1.5.0/installation">1.5.0</a></li><li><a class="dropdown__link" href="/react-native-keyboard-controller/pr-preview/pr-724/docs/1.4.0/installation">1.4.0</a></li><li><a class="dropdown__link" href="/react-native-keyboard-controller/pr-preview/pr-724/docs/1.0.0/installation">1.0.0-1.3.0</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/kirillzyusko/react-native-keyboard-controller/tree/main/example" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Example App<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/kirillzyusko/react-native-keyboard-controller" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal">Mastering keyboard dismissal 🥷🏼</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/over-keyboard-view">New OverKeyboardView component</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/release-1-13">A new 1.13 release 😎</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/release-1-12">Announcing upcoming release 📣</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/keyboard-toolbar">New KeyboardToolbar component 😍</a></li></ul></nav></aside><main class="col col--7"><article><header><h1 class="title_f1Hy">Mastering keyboard dismissal 🥷🏼</h1><div class="container_mt6G margin-vert--md"><time datetime="2024-12-31T00:00:00.000Z">December 31, 2024</time> · <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/kirillzyusko" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/kirillzyusko.png" alt="Kirill Zyusko"></a><div class="avatar__intro"><div class="avatar__name"><a href="https://github.com/kirillzyusko" target="_blank" rel="noopener noreferrer"><span>Kirill Zyusko</span></a></div><small class="avatar__subtitle">Library author</small></div></div></div></div></header><div id="__blog-post-container" class="markdown"><p>Today I&#x27;m glad to announce a new <code>1.15.0</code> version of <code>react-native-keyboard-controller</code> 🎉</p>
<p>This release mainly focuses on various ways to dismiss a keyboard and API enhancements, so let&#x27;s go and see which new features this release brings 👇</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="changes-to-dismiss-method">Changes to <code>dismiss</code> method<a class="hash-link" aria-label="Direct link to changes-to-dismiss-method" title="Direct link to changes-to-dismiss-method" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal#changes-to-dismiss-method">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dismiss-method-now-returns-a-promise"><code>dismiss</code> method now returns a promise<a class="hash-link" aria-label="Direct link to dismiss-method-now-returns-a-promise" title="Direct link to dismiss-method-now-returns-a-promise" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal#dismiss-method-now-returns-a-promise">​</a></h3>
<p>Previously, the <code>dismiss</code> method was synchronous, which meant that you couldn&#x27;t determine the moment when keyboard is fully hidden. Typically many developers were using one time listener that was resolving a promise or executing the code that had to be executed after keyboard dismissal. The code could look like this:</p>
<div class="language-tsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tsx codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"></span><br></span><span class="token-line" style="color:#393A34"><span class="token imports">  </span><span class="token imports maybe-class-name">KeyboardController</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"></span><br></span><span class="token-line" style="color:#393A34"><span class="token imports">  </span><span class="token imports maybe-class-name">KeyboardEvents</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"></span><br></span><span class="token-line" style="color:#393A34"><span class="token imports"></span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;react-native-keyboard-controller&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> subscription </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">KeyboardEvents</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">addListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;keyboardDidHide&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">setVisible</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  subscription</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">remove</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">KeyboardController</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">dismiss</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Now, <code>dismiss</code> returns a promise, so you can use it in <code>async</code> way:</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> KeyboardController </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;react-native-keyboard-controller&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> KeyboardController</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">dismiss</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">setVisible</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Much cleaner and more readable code! 💪</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dismiss-now-blurs-input-by-default"><code>dismiss</code> now blurs input by default<a class="hash-link" aria-label="Direct link to dismiss-now-blurs-input-by-default" title="Direct link to dismiss-now-blurs-input-by-default" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal#dismiss-now-blurs-input-by-default">​</a></h3>
<p>The previous behavior of <code>dismiss</code> was keeping the focus on the input on Android and was blurring the input on iOS. This behavior was not very intuitive and such inconsistency could causing a lot of issues. Now, the default behavior is to blur the input on both platforms 😎</p>
<p>Though a rhetorical question might be raised - I like the old behavior, when input still hold the focus 🤷‍♂️ We hear you! 👇</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dismiss-now-accepts-a-keepfocus-parameter"><code>dismiss</code> now accepts a <code>keepFocus</code> parameter<a class="hash-link" aria-label="Direct link to dismiss-now-accepts-a-keepfocus-parameter" title="Direct link to dismiss-now-accepts-a-keepfocus-parameter" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal#dismiss-now-accepts-a-keepfocus-parameter">​</a></h3>
<p>Sometimes you might want to keep the focus on the input, even after keyboard is dismissed. This way users can understand which field was focused the last. If you want to achieve this behavior, you can pass <code>keepFocus</code> parameter to <code>dismiss</code> method:</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">KeyboardController</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">dismiss</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> keepFocus</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="new-keyboardcontroller-api-methods">New <code>KeyboardController</code> API methods<a class="hash-link" aria-label="Direct link to new-keyboardcontroller-api-methods" title="Direct link to new-keyboardcontroller-api-methods" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal#new-keyboardcontroller-api-methods">​</a></h2>
<p>We finished with dismissal part. But the counter part of dismissal is the checking current keyboard state. This release is packed with 2 new methods that aims to simplify the keyboard state checks and achieve a parity with <code>react-native</code> API 😊</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-isvisible-method">New <code>isVisible</code> method<a class="hash-link" aria-label="Direct link to new-isvisible-method" title="Direct link to new-isvisible-method" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal#new-isvisible-method">​</a></h3>
<p>This method acts as a <code>Keyboard.isVisible()</code> method from <code>react-native</code> and returns <code>true</code> if keyboard is currently visible and <code>false</code> otherwise.</p>
<p>You can use it to check keyboard visibility on demand without a need to create listeners.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-state-method">New <code>.state()</code> method<a class="hash-link" aria-label="Direct link to new-state-method" title="Direct link to new-state-method" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal#new-state-method">​</a></h3>
<p>The new method returns the last keyboard state. It returns <code>null</code> if keyboard was not shown in the app yet.</p>
<p>This method acts similar to <code>Keyboard.metrics()</code> from <code>react-native</code> and returns the current keyboard state. The reason why it is named <code>state</code> instead of <code>metrics</code> is because it returns a different data structure and it&#x27;s not a drop-in replacement for <code>Keyboard.metrics()</code>. However you can achieve the same results using <code>KeyboardController.state()</code> (because it gives an access to <code>height</code> value) and even more - you can other properties, such as <code>type</code>, <code>appearance</code>, <code>target</code>, <code>timestamp</code> and others to get more information about the keyboard.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="better-keyboardstickyview-and-keyboardtoolbar-interoperability">Better <code>KeyboardStickyView</code> and <code>KeyboardToolbar</code> interoperability<a class="hash-link" aria-label="Direct link to better-keyboardstickyview-and-keyboardtoolbar-interoperability" title="Direct link to better-keyboardstickyview-and-keyboardtoolbar-interoperability" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal#better-keyboardstickyview-and-keyboardtoolbar-interoperability">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="keyboardtoolbar-now-accepts-keyboardstickyview-props"><code>KeyboardToolbar</code> now accepts <code>KeyboardStickyView</code> props<a class="hash-link" aria-label="Direct link to keyboardtoolbar-now-accepts-keyboardstickyview-props" title="Direct link to keyboardtoolbar-now-accepts-keyboardstickyview-props" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal#keyboardtoolbar-now-accepts-keyboardstickyview-props">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="keyboardstickyview-got-new-enabled-prop"><code>KeyboardStickyView</code> got new <code>enabled</code> prop<a class="hash-link" aria-label="Direct link to keyboardstickyview-got-new-enabled-prop" title="Direct link to keyboardstickyview-got-new-enabled-prop" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal#keyboardstickyview-got-new-enabled-prop">​</a></h3>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="keyboardevents-metadata-enhancements"><code>KeyboardEvents</code> metadata enhancements<a class="hash-link" aria-label="Direct link to keyboardevents-metadata-enhancements" title="Direct link to keyboardevents-metadata-enhancements" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal#keyboardevents-metadata-enhancements">​</a></h2>
<p>This release enhances <code>KeyboardEventData</code> with new properties.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-type-property">New <code>type</code> property<a class="hash-link" aria-label="Direct link to new-type-property" title="Direct link to new-type-property" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal#new-type-property">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-appearance-property">New <code>appearance</code> property<a class="hash-link" aria-label="Direct link to new-appearance-property" title="Direct link to new-appearance-property" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal#new-appearance-property">​</a></h3>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="keyboardgesturearea-with-offset-on-ios-"><code>KeyboardGestureArea</code> with <code>offset</code> on iOS 🔥<a class="hash-link" aria-label="Direct link to keyboardgesturearea-with-offset-on-ios-" title="Direct link to keyboardgesturearea-with-offset-on-ios-" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal#keyboardgesturearea-with-offset-on-ios-">​</a></h2>
<p>The cherry on the cake of this release is making <code>KeyboardGestureArea</code> available on iOS 🍒</p>
<p>This component got new property <code>textInputNativeID</code> which is available on iOS only and <code>offset</code> property is cross-platform now.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Why <code>textInputNativeID</code> was added?</div><div class="admonitionContent_BuS1"><p>Short answer - to keep a release backward compatible.</p><p>Long answer - before on iOS <code>KeyboardGestureArea</code> was returning <code>React.Fragment</code>. I think some developers were relying on this fact, that <code>KeyboardGestureArea</code> doesn&#x27;t do anything on iOS, so if this component starts to change a behavior instantly it may produce a hard migration. So to avoid this I added a new property <code>textInputNativeID</code> which acts as a switch (unless it&#x27;s specified <code>KeyboardGestureArea</code> will not do anything useful on iOS). Also this property allows to selectively add offset for given inputs.</p></div></div></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/tags/react-native">react-native</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/tags/keyboard">keyboard</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/tags/dismiss">dismiss</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/tags/state">state</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/tags/is-visible">isVisible</a></li></ul></div></div><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><a href="https://github.com/kirillzyusko/react-native-keyboard-controller/tree/main/docs/blog/2024-12-31-release-1-15/index.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--next" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/over-keyboard-view"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">New OverKeyboardView component</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal#changes-to-dismiss-method">Changes to <code>dismiss</code> method</a><ul><li><a class="table-of-contents__link toc-highlight" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal#dismiss-method-now-returns-a-promise"><code>dismiss</code> method now returns a promise</a></li><li><a class="table-of-contents__link toc-highlight" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal#dismiss-now-blurs-input-by-default"><code>dismiss</code> now blurs input by default</a></li><li><a class="table-of-contents__link toc-highlight" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal#dismiss-now-accepts-a-keepfocus-parameter"><code>dismiss</code> now accepts a <code>keepFocus</code> parameter</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal#new-keyboardcontroller-api-methods">New <code>KeyboardController</code> API methods</a><ul><li><a class="table-of-contents__link toc-highlight" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal#new-isvisible-method">New <code>isVisible</code> method</a></li><li><a class="table-of-contents__link toc-highlight" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal#new-state-method">New <code>.state()</code> method</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal#better-keyboardstickyview-and-keyboardtoolbar-interoperability">Better <code>KeyboardStickyView</code> and <code>KeyboardToolbar</code> interoperability</a><ul><li><a class="table-of-contents__link toc-highlight" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal#keyboardtoolbar-now-accepts-keyboardstickyview-props"><code>KeyboardToolbar</code> now accepts <code>KeyboardStickyView</code> props</a></li><li><a class="table-of-contents__link toc-highlight" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal#keyboardstickyview-got-new-enabled-prop"><code>KeyboardStickyView</code> got new <code>enabled</code> prop</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal#keyboardevents-metadata-enhancements"><code>KeyboardEvents</code> metadata enhancements</a><ul><li><a class="table-of-contents__link toc-highlight" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal#new-type-property">New <code>type</code> property</a></li><li><a class="table-of-contents__link toc-highlight" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal#new-appearance-property">New <code>appearance</code> property</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/react-native-keyboard-controller/pr-preview/pr-724/blog/mastering-keyboard-dismissal#keyboardgesturearea-with-offset-on-ios-"><code>KeyboardGestureArea</code> with <code>offset</code> on iOS 🔥</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/react-native-keyboard-controller/pr-preview/pr-724/docs/installation">Guides</a></li><li class="footer__item"><a class="footer__link-item" href="/react-native-keyboard-controller/pr-preview/pr-724/docs/category/recipes">Recipes</a></li><li class="footer__item"><a class="footer__link-item" href="/react-native-keyboard-controller/pr-preview/pr-724/docs/category/api-reference">API</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/kirillzyusko/react-native-keyboard-controller/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/ziusko" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/react-native-keyboard-controller/pr-preview/pr-724/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/kirillzyusko/react-native-keyboard-controller" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Kirill Zyusko. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>